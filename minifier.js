(function(a){a.fn.DynamicList=function(b){var c={triggerAddElement:null,triggerRemoveElement:null,addOnly:false,ctrlAddImg:"add.gif",ctrlRemoveImg:"subtract.gif",ctrlPosition:[5,20],ctrlClass:null};return this.each(function(){$this=a(this);var d=a.extend({},c,b);$container=a(document.createElement("div"));$this.prev().length==0?$this.parent().prepend($container):$this.prev().after($container);if(d.triggerAddElement===null&&d.triggerRemoveElement===null){$c=a(document.createElement("div"));$i=a(document.createElement("img"));$add=$i.clone().attr("src",d.ctrlAddImg);$ctrl=$c.clone().append($add).css({paddingLeft:d.ctrlPosition[1]+"px",paddingTop:d.ctrlPosition[0]+"px"});if(!d.addOnly){$remove=$i.clone().attr("src",d.ctrlRemoveImg);$ctrl.append($remove)}if(d.ctrlClass!==null){$ctrl.addClass(d.ctrlClass)}$content=$c.clone().css("float","left");$this.appendTo($content);$container.html($c.clone().append($content).append($ctrl.css("float","left")).append($c.clone().css("clear","left")))}else{$this.appendTo($container);$add=a(d.triggerAddElement);$remove=a(d.triggerRemoveElement)}var e=$this;$add.bind("click.dynamicList",function(){$new=e.clone(true);$in=$new.contents().filter('input[type!="button"][type!="submit"][type!="reset"],textarea');$in.each(function(){a(this).val("")});$container.append($new)});if(!d.addOnly){$remove.bind("click.dynamicList",function(){$children=$container.children();if($children.length>1){a($children[$children.length-1]).remove()}})}})}})(jQuery);(function(a){a.fn.SimpleFileUpload=function(){return this.each(function(){$this=a(this);if($this.get(0).tagName.toLowerCase()=="form"){var b="_jqSFU"+String(Math.floor(Math.random()*(90000-10000+1))+10000);$this.attr({method:"post",enctype:"multipart/form-data",target:b});$iframe=a(document.createElement("iframe"));$iframe.attr({src:"#",name:b}).css({width:0,height:0,border:"0px solid #fff"});a("body").append($iframe)}})}})(jQuery);$(document).ready(function(){(function(){$("#list").DynamicList({addOnly:true,triggerAddElement:"#ctrl"});$("#form").SimpleFileUpload();$("#form").bind("submit",function(){var c=$('input[type="file"]');var e=$.grep(c,function(f){return/\.js|\.JS/.test($(f).val())});var b=$.grep(c,function(f){return/\.css|\.CSS/.test($(f).val())});if(e.length>0&&b.length>0){alert("Fehler: JavaScript- und CSS-Dateien können nicht gleichzeitig verarbeitet werden!");return false}var d=$.grep(c,function(f){return $.trim($(f).val())==""});if(e.length+d.length!=c.length&&b.length+d.length!=c.length){alert("Fehler: Ungültige Eingabe\nDiese Anwendung unterstützt nur JavaScript- und CSS-Dateien");return false}if(d.length<c.length){var a=$('input[name="intermediate"]');if($.trim(a.val())!=""){$('input[name="output"]').val(encodeURI(a.val()));return true}else{alert("Bitte einen Namen für die neue Datei eingeben!");a.get(0).focus();return false}}else{$('input[type="file"]:first').trigger("click");return false}})})()});